# Test Environment Configuration
# This file is used during Jest test runs
# DO NOT use production values here

# =============================================================================
# APPLICATION
# =============================================================================
NODE_ENV=test
PORT=3001
APP_NAME=SimplePro-v3-Test
APP_VERSION=3.0.0

# =============================================================================
# DATABASE - MongoDB
# =============================================================================
# Using MongoDB Memory Server in tests, but fallback URI for integration tests
MONGODB_URI=mongodb://localhost:27017/simplepro-test
MONGODB_POOL_SIZE=10
MONGODB_MAX_IDLE_TIME_MS=60000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000

# =============================================================================
# CACHE - Redis (Mocked in unit tests)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=test-redis-password
REDIS_DB=0
REDIS_CONNECT_TIMEOUT=10000
REDIS_TTL=300
REDIS_SHORT_TTL=60
REDIS_MEDIUM_TTL=300
REDIS_LONG_TTL=3600
REDIS_EXTRA_LONG_TTL=86400
REDIS_MAX_ITEMS=100000
REDIS_TLS_ENABLED=false
REDIS_CLUSTER_MODE=false

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
JWT_SECRET=test-jwt-secret-key-32-characters-long-for-testing-purposes
JWT_REFRESH_SECRET=test-refresh-secret-key-32-characters-long-for-testing
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# CORS
# =============================================================================
ALLOWED_ORIGINS=http://localhost:3009,http://localhost:3000

# =============================================================================
# OBJECT STORAGE (MinIO/S3) - Mocked in tests
# =============================================================================
STORAGE_PROVIDER=s3
STORAGE_ENDPOINT=localhost
STORAGE_PORT=9000
STORAGE_ACCESS_KEY=test-access-key
STORAGE_SECRET_KEY=test-secret-key
STORAGE_USE_SSL=false
STORAGE_BUCKET_NAME=simplepro-test
STORAGE_REGION=us-east-1

# =============================================================================
# EMAIL (SMTP) - Disabled in tests
# =============================================================================
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=test@example.com
SMTP_PASSWORD=test-password
SMTP_FROM_EMAIL=test@example.com
SMTP_FROM_NAME=SimplePro Test
EMAIL_PROVIDER=other
EMAIL_NOTIFICATIONS_ENABLED=false

# =============================================================================
# SMS (Twilio) - Disabled in tests
# =============================================================================
TWILIO_ACCOUNT_SID=test-account-sid
TWILIO_AUTH_TOKEN=test-auth-token
TWILIO_PHONE_NUMBER=+1234567890
SMS_NOTIFICATIONS_ENABLED=false

# =============================================================================
# PUSH NOTIFICATIONS (Firebase) - Disabled in tests
# =============================================================================
FIREBASE_PROJECT_ID=test-project-id
FIREBASE_PRIVATE_KEY=test-private-key
FIREBASE_CLIENT_EMAIL=test@test-project.iam.gserviceaccount.com
PUSH_NOTIFICATIONS_ENABLED=false

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_GLOBAL=10000
RATE_LIMIT_AUTH=100
RATE_LIMIT_LOGIN=100
RATE_LIMIT_TIER1=1000
RATE_LIMIT_TIER2=1000
RATE_LIMIT_TIER3=1000
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_BLOCK_DURATION_MS=900000

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=error
LOG_FORMAT=simple
LOG_CONSOLE_ENABLED=false
LOG_FILE_ENABLED=false
CLOUDWATCH_LOGS_ENABLED=false
DATADOG_LOGS_ENABLED=false

# =============================================================================
# MONITORING
# =============================================================================
PROMETHEUS_ENABLED=false
HEALTH_CHECK_ENABLED=true
APM_ENABLED=false

# =============================================================================
# SESSION
# =============================================================================
SESSION_SECRET=test-session-secret-key-32-characters-long
SESSION_TTL=604800
SESSION_COOKIE_NAME=simplepro_test_session
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=lax

# =============================================================================
# FILE UPLOAD
# =============================================================================
MAX_FILE_SIZE=52428800
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf
MAX_FILES_PER_UPLOAD=10

# =============================================================================
# SECURITY
# =============================================================================
HELMET_ENABLED=false
CSP_ENABLED=false
HSTS_ENABLED=false
CSRF_ENABLED=false
BCRYPT_ROUNDS=4
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=false
PASSWORD_REQUIRE_LOWERCASE=false
PASSWORD_REQUIRE_NUMBER=false
PASSWORD_REQUIRE_SPECIAL_CHAR=false
ACCOUNT_LOCKOUT_ENABLED=false
ACCOUNT_LOCKOUT_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=900

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_SWAGGER=false
ENABLE_GRAPHQL_PLAYGROUND=false
DEBUG_MODE=false
SEED_DATA=false
WEBSOCKET_ENABLED=false
CREW_AUTO_ASSIGNMENT_ENABLED=true
AUTO_JOB_STATUS_ENABLED=true
NOTIFICATION_RETRY_ENABLED=false
NOTIFICATION_MAX_RETRIES=1

# =============================================================================
# WEBHOOKS
# =============================================================================
WEBHOOK_SECRET=test-webhook-secret
WEBHOOK_TIMEOUT=5000

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================
GOOGLE_MAPS_API_KEY=test-google-maps-api-key
STRIPE_PUBLIC_KEY=test-stripe-public-key
STRIPE_SECRET_KEY=test-stripe-secret-key
STRIPE_WEBHOOK_SECRET=test-stripe-webhook-secret

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================
BACKUP_ENABLED=false

# =============================================================================
# TIMEZONE & LOCALIZATION
# =============================================================================
TZ=UTC
DEFAULT_LOCALE=en-US
SUPPORTED_LOCALES=en-US

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================
CLUSTER_MODE_ENABLED=false
CLUSTER_WORKERS=0
SHUTDOWN_TIMEOUT=5000
DNS_CACHE_TTL=300
